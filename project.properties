# project.properties

#AD Connection
ldap.url=ldap://ltc-ad-gc-lb.am.lilly.com:3268
ldap.base=DC=AM,DC=LILLY,DC=com
ldap.userDn=FUSEESBBIND@am.lilly.com
ldap.password=ENC(lYY9vAAHWRytcpRmcE3Y2mNLzfNbd+Ur)

#Bound ReST Port
rest.port=8080

# WebSphere MQ Cert 
wmq.sslcontext.keyStore=wmq.keystore.jks
wmq.sslcontext.keyPassword=ENC(Ho1RI0G7S0TqIb7ZTQeKB+K8EfGZbaVC)
wmq.sslcontext.password=ENC(Ho1RI0G7S0TqIb7ZTQeKB+K8EfGZbaVC)

# WebSphere MQ Queue Manager 
wmq.hostname=fteqadev05.am.lilly.com
wmq.queuemanager=DMQMC005
wmq.port=1420
wmq.channel=CH.LLY.IEP.DMQMC005

# Authorizing AD Group
activedirectory.groupname=IEP_Developers

# MusicBrainz Oracle Database Connection
musicbrainz.jdbc=jdbc:oracle:thin:@jagxfr.am.lilly.com:1531:DVC4806
musicbrainz.username=musicbrainz
musicbrainz.password=ENC(GcUxgdiqqoFJnvfwpyxzhBUDVcmdO/2E)

# End project.properties

com.lilly.esb.iep.alsc.ects.objecttype=ects
com.lilly.esb.iep.alsc.master.objecttype=master
com.lilly.esb.iep.alsc.reference.objecttype=reference
com.lilly.esb.iep.alsc.ecoa.objecttype=ecoa
com.lilly.esb.iep.alsc.lss.objecttype=lss

# LDAP Group
com.lilly.esb.iep.alsc.ldap.group=IEP_ALSC_FinalResp_Dev

com.lilly.esb.iep.alsc.ref.final.resp.address=/IEP/rest/alsc

# Commons Dispatch Service
com.lilly.esb.iep.alsc.encrypt.password=ENC(oDgkAFLL8V+BzWvNUTz1/eIVv1hT8nC9)

# SSL Context Parameters
com.lilly.esb.iep.alsc.sslcontext.keyPassword=ENC(Ho1RI0G7S0TqIb7ZTQeKB+K8EfGZbaVC)
com.lilly.esb.iep.alsc.sslcontext.password=ENC(Ho1RI0G7S0TqIb7ZTQeKB+K8EfGZbaVC)
com.lilly.esb.iep.alsc.sslcontext.keyStore=etc/ssl/com.lilly.esb.iep.common.keystore.jks

# Queue Manager Connection Components
com.lilly.esb.iep.alsc.wmq.transportType=1
com.lilly.esb.iep.alsc.wmq.hostName=${iep.wmq.hostName}
com.lilly.esb.iep.alsc.wmq.queuemanager=${iep.wmq.queuemanager}
com.lilly.esb.iep.alsc.wmq.port=${iep.wmq.port}
com.lilly.esb.iep.alsc.wmq.channel=${iep.wmq.channel}
com.lilly.esb.iep.alsc.wmq.useConnectionPooling=true
com.lilly.esb.iep.alsc.wmq.sslCipherSuite=SSL_RSA_WITH_3DES_EDE_CBC_SHA

# Spring Caching Connection Factory
com.lilly.esb.iep.alsc.wmq.cacheConsumers=true
com.lilly.esb.iep.alsc.wmq.reconnectOnException=true
com.lilly.esb.iep.alsc.wmq.sessionCacheSize=10

# JMS EndPoint Components
com.lilly.esb.iep.alsc.wmq.transacted=false
com.lilly.esb.iep.alsc.wmq.cacheLevelName=CACHE_AUTO

# Batch Control
com.lilly.esb.iep.alsc.batchcontrol.db.url=jdbc:oracle:thin:@jagxfr.am.lilly.com:1531:DVC4806
com.lilly.esb.iep.alsc.batchcontrol.db.username=IEP_USER
com.lilly.esb.iep.alsc.batchcontrol.db.password=ENC(+Bhr43UfZL7Zz6L7o8tKG8wzUa5USfT4)
com.lilly.esb.iep.alsc.batchcontrol.db.driverClassName=oracle.jdbc.driver.OracleDriver
com.lilly.esb.iep.alsc.batchcontrol.db.conn.initialSize=5
com.lilly.esb.iep.alsc.batchcontrol.db.conn.maxIdle=5
com.lilly.esb.iep.alsc.batchcontrol.db.conn.maxActive=10
com.lilly.esb.iep.alsc.batchcontrol.db.conn.validationQuery=SELECT 1 FROM DUAL

#mango
com.lilly.esb.iep.fileWriter.location="/fs_wst_mango/mango.grp/PAAS_TEST"

#com.lilly.esb.iep.alsc.batchcontrol.query=select ENDTIME from IEP_BATCH_CONTROL where OBJECTTYPE = :?OBJECTTYPE and IMPACTNUMBER = 1
#com.lilly.esb.iep.alsc.batchcontrol.update=update IEP_BATCH_CONTROL set STARTTIME = :?STARTTIME, ENDTIME = :?ENDTIME where OBJECTTYPE = :?OBJECTTYPE and IMPACTNUMBER = 1
#com.lilly.esb.iep.alsc.batchcontrol.insert=insert into IEP_BATCH_CONTROL (IMPACTNUMBER, STARTTIME, ENDTIME, OBJECTTYPE) values (1, :?STARTTIME, :?ENDTIME, :?OBJECTTYPE)

# Study and Reference A/K/A IIP 
com.lilly.esb.iep.alsc.iip.db.url=jdbc:oracle:thin:@jagxfr.am.lilly.com:1531:DVC4806
com.lilly.esb.iep.alsc.iip.db.username=IEP_USER
com.lilly.esb.iep.alsc.iip.db.password=ENC(+Bhr43UfZL7Zz6L7o8tKG8wzUa5USfT4)
com.lilly.esb.iep.alsc.iip.db.driverClassName=oracle.jdbc.driver.OracleDriver
com.lilly.esb.iep.alsc.iip.db.conn.initialSize=5
com.lilly.esb.iep.alsc.iip.db.conn.maxIdle=5
com.lilly.esb.iep.alsc.iip.db.conn.maxActive=10
com.lilly.esb.iep.alsc.iip.db.conn.validationQuery=SELECT 1 FROM DUAL

# LSS DB
com.lilly.esb.iep.alsc.lss.db.url=jdbc:oracle:thin:@rapid.am.lilly.com:1531:qar3806
com.lilly.esb.iep.alsc.lss.db.username=IEP_USER
com.lilly.esb.iep.alsc.lss.db.password=ENC(+Bhr43UfZL7Zz6L7o8tKG8wzUa5USfT4)
com.lilly.esb.iep.alsc.lss.db.driverClassName=oracle.jdbc.driver.OracleDriver
com.lilly.esb.iep.alsc.lss.db.conn.initialSize=5
com.lilly.esb.iep.alsc.lss.db.conn.maxIdle=5
com.lilly.esb.iep.alsc.lss.db.conn.maxActive=10
com.lilly.esb.iep.alsc.lss.db.conn.validationQuery=SELECT 1 FROM DUAL

# eCTS DB
com.lilly.esb.iep.alsc.ects.db.url=jdbc:oracle:thin:@rapid.am.lilly.com:1531:qar3806
com.lilly.esb.iep.alsc.ects.db.username=IEP_USER
com.lilly.esb.iep.alsc.ects.db.password=ENC(+Bhr43UfZL7Zz6L7o8tKG8wzUa5USfT4)
com.lilly.esb.iep.alsc.ects.db.driverClassName=oracle.jdbc.driver.OracleDriver
com.lilly.esb.iep.alsc.ects.db.conn.initialSize=5
com.lilly.esb.iep.alsc.ects.db.conn.maxIdle=5
com.lilly.esb.iep.alsc.ects.db.conn.maxActive=10
com.lilly.esb.iep.alsc.ects.db.conn.validationQuery=SELECT 1 FROM DUAL

# LSS Query
com.lilly.esb.iep.alsc.lss.iip.query.casegeneralstg.csv=SELECT case_id, case_num, study_key, study_num, protocol_desc, other_id,  substr(study_num,-4), reporter_id, pat_id, pat_subj_num, to_char(pat_dob,'YYYY-MM-DD hh24:mi:ss'), gender_id, gender, sex_std_cd, ethnicity_id, ethnicity, race_std_cd, to_char(death_date,'YYYY-MM-DD hh24:mi:ss'), to_char(last_update_time,'YYYY-MM-DD hh24:mi:ss') FROM mdf_pub_owner.mdf_lss_case_general_stg WHERE study_num = :study_als_cd ORDER BY case_id
com.lilly.esb.iep.alsc.lss.iip.query.casegeneralstg.header=CASE_ID,CASE_NUM,STUDY_KEY,STUDY_NUM,PROTOCOL_DESC,OTHER_ID,STUDY_ID,REPORTER_ID,PAT_ID,PAT_SUBJ_NUM,PAT_DOB,GENDER_ID,GENDER,SEX_STD_CD,ETHNICITY_ID,ETHNICITY,RACE_STD_CD,DEATH_DATE,LAST_UPDATE_TIME
com.lilly.esb.iep.alsc.lss.iip.query.casegeneralstg.domain=LSS_CASE_GENERAL

com.lilly.esb.iep.alsc.lss.iip.query.eventstg.csv=SELECT les.case_id, les.seq_num, les.desc_reptd, to_char(les.onset,'YYYY-MM-DD hh24:mi:ss'), to_char(les.stop_date,'YYYY-MM-DD hh24:mi:ss'), les.sc_death, les.sc_hosp, les.sc_cong_anom, les.sc_threat, les.sc_disable, les.sc_int_req, les.sc_other, les.sc_other_text, les.sort_id, les.art_code FROM mdf_pub_owner.mdf_lss_case_general_stg cgs JOIN mdf_pub_owner.mdf_lss_event_stg les on cgs.case_id = les.case_id WHERE cgs.study_num = :study_als_cd ORDER BY les.case_id
com.lilly.esb.iep.alsc.lss.iip.query.eventstg.header=CASE_ID,SEQ_NUM,DESC_REPTD,ONSET,STOP_DATE,SC_DEATH,SC_HOSP,SC_CONG_ANOM,SC_THREAT,SC_DISABLE,SC_INT_REQ,SC_OTHER,SC_OTHER_TEXT,SORT_ID,ART_CODE
com.lilly.esb.iep.alsc.lss.iip.query.eventstg.domain=LSS_EVENT

com.lilly.esb.iep.alsc.lss.iip.query.eventassessstg.csv=SELECT lea.case_id, lea.event_seq_num, lea.prod_seq_num, lea.seq_num, lea.rpt_causality_id, lea.causality, lea.rpt_causality_std_cd FROM mdf_pub_owner.mdf_lss_case_general_stg cgs left outer join mdf_pub_owner.mdf_lss_event_assess_stg lea on cgs.case_id = lea.case_id where cgs.study_num = :study_als_cd ORDER by lea.case_id
com.lilly.esb.iep.alsc.lss.iip.query.eventassessstg.header=CASE_ID,EVENT_SEQ_NUM,PROD_SEQ_NUM,SEQ_NUM,RPT_CAUSALITY_ID,CAUSALITY,RPT_CAUSALITY_STD_CD
com.lilly.esb.iep.alsc.lss.iip.query.eventassessstg.domain=LSS_EVENT_ASSESS

# eCTS Query

com.lilly.esb.iep.alsc.ects.trtmnt_grp_desc.query=SELECT res_proj_code,  facility_code,  study_code,  trtmnt_grp,  trtmnt_grp_desc FROM mdf_ss_owner.dtp_sms_treatment_group_ref WHERE res_proj_code||'-'||facility_code||'-'||study_code = :study_als_cd ORDER BY trtmnt_grp
com.lilly.esb.iep.alsc.ects.trtmnt_grp_desc.header=RES_PROJ_CODE,FACILITY_CODE,STUDY_CODE,TRTMNT_GRP,TRTMNT_GRP_DESC
com.lilly.esb.iep.alsc.ects.trtmnt_grp_desc.domain=ECTS_TREATMENT_GRP_REF

com.lilly.esb.iep.alsc.ects.package_desc.query=SELECT res_proj_code,  facility_code,  study_code,  package_type_id,  package_desc FROM mdf_ss_owner.dtp_sms_package_type WHERE res_proj_code||'-'||facility_code||'-'||study_code = :study_als_cd ORDER BY package_type_id
com.lilly.esb.iep.alsc.ects.package_desc.header=RES_PROJ_CODE,FACILITY_CODE,STUDY_CODE,PACKAGE_TYPE_ID,PACKAGE_DESC
com.lilly.esb.iep.alsc.ects.package_desc.domain=ECTS_PACKAGE_TYPE_REF

com.lilly.esb.iep.alsc.ects.mdf_ss_owner.dtp_sms_treatment_dispense.query=SELECT res_proj_code,  facility_code,  study_code,  study_role_number,  subject_number,  sch_cntct_number,  package_number,  carton_number,  lot_number,  trtmnt_grp,  to_char(date_assigned,'yyyy-mm-dd hh24:mi:ss'),  package_type_id,  date_assigned_txt, blinded FROM mdf_ss_owner.dtp_sms_treatment_dispense WHERE res_proj_code||'-'||facility_code||'-'||study_code = :study_als_cd ORDER BY study_role_number, subject_number, sch_cntct_number, package_number
com.lilly.esb.iep.alsc.ects.mdf_ss_owner.dtp_sms_treatment_dispense.header=RES_PROJ_CODE,FACILITY_CODE,STUDY_CODE,STUDY_ROLE_NUMBER,SUBJECT_NUMBER,SCH_CNTCT_NUMBER,PACKAGE_NUMBER,CARTON_NUMBER,LOT_NUMBER,TRTMNT_GRP,DATE_ASSIGNED,PACKAGE_TYPE_ID,DATE_ASSIGNED_TXT,BLINDED
com.lilly.esb.iep.alsc.ects.mdf_ss_owner.dtp_sms_treatment_dispense.domain=ECTS_TREATMENT_DISPENSE

com.lilly.esb.iep.alsc.ects.mdf_ss_owner.dtp_sms_treatment_dispense_f.query=SELECT res_proj_code,  facility_code,  study_code,  study_role_number,  subject_number,  sch_cntct_number,  package_number,  carton_number,  lot_number,  trtmnt_grp,  to_char(date_assigned,'yyyy-mm-dd hh24:mi:ss'),  package_type_id,  date_assigned_txt, blinded FROM mdf_ss_owner.dtp_sms_treatment_dispense_f WHERE res_proj_code||'-'||facility_code||'-'||study_code = :study_als_cd ORDER BY study_role_number, subject_number, sch_cntct_number, package_number
com.lilly.esb.iep.alsc.ects.mdf_ss_owner.dtp_sms_treatment_dispense_f.header=RES_PROJ_CODE,FACILITY_CODE,STUDY_CODE,STUDY_ROLE_NUMBER,SUBJECT_NUMBER,SCH_CNTCT_NUMBER,PACKAGE_NUMBER,CARTON_NUMBER,LOT_NUMBER,TRTMNT_GRP,DATE_ASSIGNED,PACKAGE_TYPE_ID,DATE_ASSIGNED_TXT,BLINDED
com.lilly.esb.iep.alsc.ects.mdf_ss_owner.dtp_sms_treatment_dispense_f.domain=ECTS_TREATMENT_DISPENSE_F

com.lilly.esb.iep.alsc.ects.mdf_ss_owner.dtp_sms_randomization.query=SELECT res_proj_code,  facility_code,  study_code,  study_role_number,  subject_number,  sch_cntct_number,  trtmnt_grp, to_char(assignment_date,'yyyy-mm-dd hh24:mi:ss'),  assignment_date_txt, blinded FROM mdf_ss_owner.dtp_sms_randomization WHERE res_proj_code||'-'||facility_code||'-'||study_code = :study_als_cd ORDER BY study_role_number, subject_number,sch_cntct_number
com.lilly.esb.iep.alsc.ects.mdf_ss_owner.dtp_sms_randomization.header=RES_PROJ_CODE,FACILITY_CODE,STUDY_CODE,STUDY_ROLE_NUMBER,SUBJECT_NUMBER,SCH_CNTCT_NUMBER,TRTMNT_GRP,ASSIGNMENT_DATE,ASSIGNMENT_DATE_TXT,BLINDED
com.lilly.esb.iep.alsc.ects.mdf_ss_owner.dtp_sms_randomization.domain=ECTS_RANDOMIZATION

com.lilly.esb.iep.alsc.ects.mdf_ss_owner.dtp_sms_randomization_f.query=SELECT res_proj_code,  facility_code,  study_code,  study_role_number,  subject_number,  sch_cntct_number,  trtmnt_grp, to_char(assignment_date,'yyyy-mm-dd hh24:mi:ss'),  assignment_date_txt, blinded FROM mdf_ss_owner.dtp_sms_randomization_f WHERE res_proj_code||'-'||facility_code||'-'||study_code = :study_als_cd ORDER BY study_role_number, subject_number,sch_cntct_number
com.lilly.esb.iep.alsc.ects.mdf_ss_owner.dtp_sms_randomization_f.header=RES_PROJ_CODE,FACILITY_CODE,STUDY_CODE,STUDY_ROLE_NUMBER,SUBJECT_NUMBER,SCH_CNTCT_NUMBER,TRTMNT_GRP,ASSIGNMENT_DATE,ASSIGNMENT_DATE_TXT,BLINDED
com.lilly.esb.iep.alsc.ects.mdf_ss_owner.dtp_sms_randomization_f.domain=ECTS_RANDOMIZATION_F

com.lilly.esb.iep.alsc.ects.ects_ss_owner.ivrs_sbjct_sts.query=SELECT ROWNUM ID, mainQuery.SDYID_STDY_ID_TXT, mainQuery.USDYID_UNQ_STDY_ID_TXT, mainQuery.IVRS_STDY_SEQ_NBR_TXT, to_char(mainQuery.IVRS_CNTCT_STRT_DT,'yyyy-mm-dd hh24:mi:ss') IVRS_CNTCT_STRT_DT, to_char(mainQuery.IVRS_CNTCT_END_DT,'yyyy-mm-dd hh24:mi:ss') IVRS_CNTCT_END_DT, mainQuery.INVID_INVSTGTR_SITE_RFRNC_ID, substr(mainQuery.INVSTGTR_INV_TTL_TXT,0,14) INVSTGTR_INV_TTL_TXT, substr(mainQuery.INVSTGTR_INV_LST_NM_TXT,0,49)INVSTGTR_INV_LST_NM_TXT, substr(mainQuery.INVSTGTR_INV_FRST_NM_TXT,0,49)INVSTGTR_INV_FRST_NM_TXT, mainQuery.SITELOC_SITE_DESC_TXT, mainQuery.IVRS_SBJCT_SEQ_NBR_TXT, mainQuery.SUBJID_SBJCT_ID_NBR, mainQuery.SBJCT_SEX_CD_TXT, mainQuery.SCH_CNTCT_NBR, mainQuery.UNSCHDLD_VIS_TXT, mainQuery.IVRS_PKG_NBR, to_char(mainQuery.IVRS_SBJCT_VIS_DT,'yyyy-mm-dd hh24:mi:ss') IVRS_SBJCT_VIS_DT, mainQuery.IVRS_SBJCT_STS, mainQuery.IVRS_VIS_INCMPLT, mainQuery.IVRS_PKG_NOT_CNFRMD, to_char(mainQuery.IVRS_RNDMZD_DT_TXT,'DDMONYYYY') IVRS_RNDMZD_DT_TXT FROM (SELECT study.study_code SDYID_STDY_ID_TXT, res_proj.res_proj_code||'-'||study.facility_code||'-'||study.study_code USDYID_UNQ_STDY_ID_TXT, study.study_id IVRS_STDY_SEQ_NBR_TXT, subject_contact.cntct_begin_date IVRS_CNTCT_STRT_DT, subject_contact.cntct_end_date IVRS_CNTCT_END_DT, sites.investname Inv_No, sites.siteid INVID_INVSTGTR_SITE_RFRNC_ID, person.title INVSTGTR_INV_TTL_TXT, person.last_name INVSTGTR_INV_LST_NM_TXT, person.first_name INVSTGTR_INV_FRST_NM_TXT, org.org_name_1 SITELOC_SITE_DESC_TXT, subject.subject_id IVRS_SBJCT_SEQ_NBR_TXT, subject.subject_number SUBJID_SBJCT_ID_NBR, DECODE (subj_gen.parm_val_char,  '1', 'Female',  '2', 'Male') SBJCT_SEX_CD_TXT,       sch_contact.sch_cntct_number SCH_CNTCT_NBR, unsch.unsch_cntct UNSCHDLD_VIS_TXT, package.package_number IVRS_PKG_NBR, NVL (package.date_assigned, subject_contact.cntct_begin_date) IVRS_SBJCT_VIS_DT, subj_status_ref.subject_status IVRS_SBJCT_STS, DECODE (subject_contact.cntct_end_date, NULL, '*') IVRS_VIS_INCMPLT, DECODE (pkg_sts.package_status_code, '2', '!') IVRS_PKG_NOT_CNFRMD, rand.assignment_date IVRS_RNDMZD_DT_TXT FROM ects_ss_owner.ects_cts_study_ss study, ects_ss_owner.ects_cts_study_parms_ss study_parms, ects_ss_owner.ects_cts_authuser users, ects_ss_owner.ects_cts_authsites_ss sites, ects_ss_owner.ects_cts_study_org_ss study_org, ects_ss_owner.ects_cts_organization_ss org, ects_ss_owner.ects_cts_authuser_parms_ss user_parm, ects_ss_owner.ects_cts_person_authuser_ss person_authuser, ects_ss_owner.ects_cts_person_ss person, ects_ss_owner.ects_cts_subject_ss subject, ects_ss_owner.ects_cts_subject_parms_ss subj_gen, ects_ss_owner.ects_cts_subj_status_ref_ss subj_status_ref, ects_ss_owner.ects_cts_sch_contact_ss sch_contact, ects_ss_owner.ects_cts_unsch_cntct_ss unsch, ects_ss_owner.ects_cts_subject_contact_ss subject_contact, ects_ss_owner.ects_cts_package_ss package, ects_ss_owner.ects_cts_org_type_ref_ss org_type, ects_ss_owner.ects_cts_pkg_status_ref_ss pkg_sts, ects_ss_owner.ects_cts_randomization_ss rand, ects_ss_owner.ects_cts_research_project_ss res_proj WHERE study.study_id = study_parms.study_id AND (study_parms.parm_val_char = 'Open') AND study.study_id_numeric = sites.projectid AND sites.projectid = users.projectid AND sites.siteid = users.siteid AND rand.study_id = study.study_id AND rand.subject_id = subject.subject_id AND sites.projectid = study_org.study_id_numeric AND sites.siteid = study_org.siteid AND org_type.org_type_code = '4' AND study_org.org_type_code = org_type.org_type_code AND study_org.org_id = org.org_id AND users.userid = user_parm.userid AND (user_parm.parm_type_code = '56' AND user_parm.parm_val_num = 1) AND users.userid = person_authuser.userid AND person_authuser.person_id = person.person_id AND sites.projectid = subject.study_id_numeric AND sites.siteid = subject.siteid AND subject.subject_status_code = subj_status_ref.subject_status_code AND subject.subject_id = subj_gen.subject_id(+) AND subj_gen.parm_type_code(+) = '6' AND package.cntct_id(+) = subject_contact.cntct_id AND package.package_status_code = pkg_sts.package_status_code(+) AND subject.subject_id = subject_contact.subject_id AND subject_contact.sch_cntct_id = sch_contact.sch_cntct_id AND subject_contact.unsch_cntct_id = unsch.unsch_cntct_id(+) AND  study.res_proj_id = res_proj.res_proj_id AND  res_proj.res_proj_code||'-'||study.facility_code||'-'||study.study_code = :study_als_cd union SELECT study.study_code SDYID_STDY_ID_TXT, res_proj.res_proj_code||'-'||study.facility_code||'-'||study.study_code USDYID_UNQ_STDY_ID_TXT, study.study_id IVRS_STDY_SEQ_NBR_TXT, subject_contact.cntct_begin_date IVRS_CNTCT_STRT_DT, subject_contact.cntct_end_date IVRS_CNTCT_END_DT, sites.investname Inv_No, sites.siteid INVID_INVSTGTR_SITE_RFRNC_ID, person.title INVSTGTR_INV_TTL_TXT, person.last_name INVSTGTR_INV_LST_NM_TXT, person.first_name INVSTGTR_INV_FRST_NM_TXT, org.org_name_1 SITELOC_SITE_DESC_TXT, subject.subject_id IVRS_SBJCT_SEQ_NBR_TXT, subject.subject_number SUBJID_SBJCT_ID_NBR, DECODE (subj_gen.parm_val_char,  '1', 'Female',  '2', 'Male') SBJCT_SEX_CD_TXT, sch_contact.sch_cntct_number SCH_CNTCT_NBR, unsch.unsch_cntct UNSCHDLD_VIS_TXT, package.package_number IVRS_PKG_NBR, NVL (package.date_assigned, subject_contact.cntct_begin_date) IVRS_SBJCT_VIS_DT, subj_status_ref.subject_status IVRS_SBJCT_STS, DECODE (subject_contact.cntct_end_date, NULL, '*') IVRS_VIS_INCMPLT, DECODE (pkg_sts.package_status_code, '2', '!') IVRS_PKG_NOT_CNFRMD, NULL FROM ects_ss_owner.ects_cts_study_ss study, ects_ss_owner.ects_cts_study_parms_ss study_parms, ects_ss_owner.ects_cts_authuser users, ects_ss_owner.ects_cts_authsites_ss sites, ects_ss_owner.ects_cts_study_org_ss study_org, ects_ss_owner.ects_cts_organization_ss org, ects_ss_owner.ects_cts_authuser_parms_ss user_parm, ects_ss_owner.ects_cts_person_authuser_ss person_authuser, ects_ss_owner.ects_cts_person_ss person, ects_ss_owner.ects_cts_subject_ss subject, ects_ss_owner.ects_cts_subject_parms_ss subj_gen, ects_ss_owner.ects_cts_subj_status_ref_ss subj_status_ref, ects_ss_owner.ects_cts_sch_contact_ss sch_contact, ects_ss_owner.ects_cts_unsch_cntct_ss unsch, ects_ss_owner.ects_cts_subject_contact_ss subject_contact, ects_ss_owner.ects_cts_package_ss package, ects_ss_owner.ects_cts_org_type_ref_ss Org_type, ects_ss_owner.ects_cts_pkg_status_ref_ss pkg_sts, ects_ss_owner.ects_cts_research_project_ss res_proj WHERE study.study_id = study_parms.study_id AND study.study_id = study_parms.study_id AND (study_parms.parm_val_char = 'Open') AND study.study_id_numeric = sites.projectid AND sites.projectid = users.projectid AND sites.siteid = users.siteid AND sites.projectid = study_org.study_id_numeric AND sites.siteid = study_org.siteid AND org_type.org_type_code = '4' AND study_org.org_type_code = org_type.org_type_code AND study_org.org_id = org.org_id AND users.userid = user_parm.userid AND (user_parm.parm_type_code = '56' AND user_parm.parm_val_num = 1) AND users.userid = person_authuser.userid AND person_authuser.person_id = person.person_id AND sites.projectid = subject.study_id_numeric AND sites.siteid = subject.siteid AND subject.subject_status_code = subj_status_ref.subject_status_code AND subject.subject_id = subj_gen.subject_id(+) AND subj_gen.parm_type_code(+) = '6' AND package.cntct_id(+) = subject_contact.cntct_id AND package.package_status_code = pkg_sts.package_status_code(+) AND subject.subject_id = subject_contact.subject_id AND subject_contact.sch_cntct_id = sch_contact.sch_cntct_id AND subject_contact.unsch_cntct_id = unsch.unsch_cntct_id(+) AND  study.res_proj_id = res_proj.res_proj_id AND  res_proj.res_proj_code||'-'||study.facility_code||'-'||study.study_code = :study_als_cd) mainQuery WHERE mainQuery.Inv_No is not null ORDER BY Inv_No, INVID_INVSTGTR_SITE_RFRNC_ID, SUBJID_SBJCT_ID_NBR, SCH_CNTCT_NBR desc, IVRS_PKG_NBR, ROWNUM
com.lilly.esb.iep.alsc.ects.ects_ss_owner.ivrs_sbjct_sts.header=ID,SDYID_STDY_ID_TXT,USDYID_UNQ_STDY_ID_TXT,IVRS_STDY_SEQ_NBR_TXT,IVRS_CNTCT_STRT_DT,IVRS_CNTCT_END_DT,INVID_INVSTGTR_SITE_RFRNC_ID,INVSTGTR_INV_TTL_TXT,INVSTGTR_INV_LST_NM_TXT,INVSTGTR_INV_FRST_NM_TXT,SITELOC_SITE_DESC_TXT,IVRS_SBJCT_SEQ_NBR_TXT,SUBJID_SBJCT_ID_NBR,SBJCT_SEX_CD_TXT,SCH_CNTCT_NBR,UNSCHDLD_VIS_TXT,IVRS_PKG_NBR,IVRS_SBJCT_VIS_DT,IVRS_SBJCT_STS,IVRS_VIS_INCMPLT,IVRS_PKG_NOT_CNFRMD,IVRS_RNDMZD_DT_TXT
com.lilly.esb.iep.alsc.ects.ects_ss_owner.ivrs_sbjct_sts.domain=IVRS_SBJCT_STS

com.lilly.esb.iep.alsc.ects.ects_ss_owner.ivrs_sbjct_data.query=SELECT ROWNUM ID, mainQuery.SDYID_STDY_ID_TXT, mainQuery.USDYID_UNQ_STDY_ID_TXT, mainQuery.IVRS_STDY_SEQ_NBR_TXT, SUBSTR (mainQuery.INVSTGTR_INV_TTL_TXT, 0, 14) INVSTGTR_INV_TTL_TXT, SUBSTR (mainQuery.INVSTGTR_INV_LST_NM_TXT, 0, 49) INVSTGTR_INV_LST_NM_TXT, SUBSTR (mainQuery.INVSTGTR_INV_FRST_NM_TXT, 0, 49) INVSTGTR_INV_FRST_NM_TXT, mainQuery.INVID_INVSTGTR_SITE_RFRNC_ID, mainQuery.IVRS_SBJCT_SEQ_NBR_TXT, mainQuery.SUBJID_SBJCT_ID_NBR, mainQuery.SCH_CNTCT_NBR SCH_CNTCT_NBR, mainQuery.UNSCHDLD_VIS_TXT, mainQuery.IVRS_DATA_DESC_TXT, mainQuery.IVRS_DATA_VAL_TXT FROM (SELECT study.study_code SDYID_STDY_ID_TXT, res_proj.res_proj_code|| '-' || study.facility_code|| '-' || study.study_code  USDYID_UNQ_STDY_ID_TXT, study.study_id IVRS_STDY_SEQ_NBR_TXT, person.title INVSTGTR_INV_TTL_TXT, person.last_name INVSTGTR_INV_LST_NM_TXT, person.first_name INVSTGTR_INV_FRST_NM_TXT, sites.siteid INVID_INVSTGTR_SITE_RFRNC_ID, subject.subject_id IVRS_SBJCT_SEQ_NBR_TXT, subject.subject_number SUBJID_SBJCT_ID_NBR, sch_contact.sch_cntct_number SCH_CNTCT_NBR, NULL UNSCHDLD_VIS_TXT, parm.parm_desc IVRS_DATA_DESC_TXT, (CASE  WHEN parm_val.parm_val_desc is null THEN subj_cntct_parms.parm_val_char ELSE parm_val.parm_val_desc END) IVRS_DATA_VAL_TXT FROM ects_ss_owner.ects_cts_study_ss study, ects_ss_owner.ects_cts_study_parms_ss study_parm, ects_ss_owner.ects_cts_dc_control_ss control, ects_ss_owner.ects_cts_authuser users, ects_ss_owner.ects_cts_authsites_ss sites, ects_ss_owner.ects_cts_authuser_parms_ss user_parm, ects_ss_owner.ects_cts_person_authuser_ss person_authuser, ects_ss_owner.ects_cts_person_ss person, ects_ss_owner.ects_cts_subject_ss subject, ects_ss_owner.ects_cts_subject_contact_ss contact, ects_ss_owner.ects_cts_subj_cntct_parms_ss subj_cntct_parms, ects_ss_owner.ects_cts_sch_contact_ss sch_contact, ects_ss_owner.ects_cts_parm_type_ref_ss parm, ects_ss_owner.ects_cts_parm_value_ref_ss parm_val, ects_ss_owner.ects_cts_research_project_ss res_proj WHERE     study.study_id = study_parm.study_id AND study_parm.parm_val_char = 'Open' AND study.study_id = control.study_id AND control.control_code <> 'NOAC' AND control.sch_cntct_id = sch_contact.sch_cntct_id AND control.unsch_cntct_id IS NULL AND sch_contact.sch_cntct_id = contact.sch_cntct_id AND contact.unsch_cntct_id IS NULL AND contact.cntct_id = subj_cntct_parms.cntct_id AND control.parm_type_code = subj_cntct_parms.parm_type_code AND control.parm_type_code = parm.parm_type_code AND contact.subject_id = subject.subject_id AND subject.study_id_numeric = users.projectid AND subject.siteid = users.siteid AND users.userid = user_parm.userid AND (    user_parm.parm_type_code = '56' AND user_parm.parm_val_num = 1) AND users.userid = person_authuser.userid AND person_authuser.person_id = person.person_id AND users.projectid = sites.projectid AND users.siteid = sites.siteid AND (subj_cntct_parms.parm_type_code = parm_val.parm_type_code(+) AND subj_cntct_parms.parm_val_char = parm_val.parm_val_char(+)) AND study.res_proj_id = res_proj.res_proj_id AND    res_proj.res_proj_code|| '-'|| study.facility_code|| '-'|| study.study_code = :study_als_cd UNION SELECT study.study_code SDYID_STDY_ID_TXT, res_proj.res_proj_code|| '-'|| study.facility_code|| '-'|| study.study_code USDYID_UNQ_STDY_ID_TXT, study.study_id IVRS_STDY_SEQ_NBR_TXT, person.title INVSTGTR_INV_TTL_TXT, person.last_name INVSTGTR_INV_LST_NM_TXT, person.first_name INVSTGTR_INV_FRST_NM_TXT, sites.siteid INVID_INVSTGTR_SITE_RFRNC_ID, subject.subject_id IVRS_SBJCT_SEQ_NBR_TXT, subject.subject_number SUBJID_SBJCT_ID_NBR, sch_contact.sch_cntct_number SCH_CNTCT_NBR, unsch.unsch_cntct UNSCHDLD_VIS_TXT, parm.parm_desc IVRS_DATA_DESC_TXT, (CASE  WHEN parm_val.parm_val_desc is null THEN subj_cntct_parms.parm_val_char ELSE parm_val.parm_val_desc END) IVRS_DATA_VAL_TXT FROM ects_ss_owner.ects_cts_study_ss study, ects_ss_owner.ects_cts_study_parms_ss study_parm, ects_ss_owner.ects_cts_dc_control_ss control, ects_ss_owner.ects_cts_authuser users, ects_ss_owner.ects_cts_authsites_ss sites, ects_ss_owner.ects_cts_authuser_parms_ss user_parm, ects_ss_owner.ects_cts_person_authuser_ss person_authuser, ects_ss_owner.ects_cts_person_ss person, ects_ss_owner.ects_cts_subject_ss subject, ects_ss_owner.ects_cts_subject_contact_ss contact, ects_ss_owner.ects_cts_subj_cntct_parms_ss subj_cntct_parms, ects_ss_owner.ects_cts_sch_contact_ss sch_contact, ects_ss_owner.ects_cts_unsch_cntct_ss unsch, ects_ss_owner.ects_cts_parm_type_ref_ss parm, ects_ss_owner.ects_cts_parm_value_ref_ss parm_val, ects_ss_owner.ects_cts_research_project_ss res_proj WHERE     study.study_id = study_parm.study_id AND study_parm.parm_val_char = 'Open'  AND study.study_id = control.study_id AND control.control_code <> 'NOAC' AND control.sch_cntct_id = sch_contact.sch_cntct_id AND control.unsch_cntct_id = unsch.unsch_cntct_id AND sch_contact.sch_cntct_id = contact.sch_cntct_id AND unsch.unsch_cntct_id = contact.unsch_cntct_id AND contact.cntct_id = subj_cntct_parms.cntct_id AND control.parm_type_code = subj_cntct_parms.parm_type_code AND control.parm_type_code = parm.parm_type_code AND contact.subject_id = subject.subject_id  AND subject.study_id_numeric = users.projectid AND subject.siteid = users.siteid AND users.userid = user_parm.userid AND (user_parm.parm_type_code = '56' AND user_parm.parm_val_num = 1) AND users.userid = person_authuser.userid AND person_authuser.person_id = person.person_id AND users.projectid = sites.projectid AND users.siteid = sites.siteid AND (subj_cntct_parms.parm_type_code = parm_val.parm_type_code(+) AND subj_cntct_parms.parm_val_char = parm_val.parm_val_char(+)) AND study.res_proj_id = res_proj.res_proj_id AND    res_proj.res_proj_code|| '-'|| study.facility_code|| '-'|| study.study_code = :study_als_cd UNION SELECT study.study_code SDYID_STDY_ID_TXT, res_proj.res_proj_code|| '-'|| study.facility_code|| '-'|| study.study_code USDYID_UNQ_STDY_ID_TXT, study.study_id IVRS_STDY_SEQ_NBR_TXT, person.title INVSTGTR_INV_TTL_TXT, person.last_name INVSTGTR_INV_LST_NM_TXT, person.first_name INVSTGTR_INV_FRST_NM_TXT, sites.siteid INVID_INVSTGTR_SITE_RFRNC_ID, subject.subject_id IVRS_SBJCT_SEQ_NBR_TXT, subject.subject_number SUBJID_SBJCT_ID_NBR, 0 SCH_CNTCT_NBR, NULL UNSCHDLD_VIS_TXT, 'Gender' IVRS_DATA_DESC_TXT, DECODE (subj_gen.parm_val_char,'1', 'Female','2', 'Male','N/A') IVRS_DATA_VAL_TXT FROM ects_ss_owner.ects_cts_study_ss study, ects_ss_owner.ects_cts_study_parms_ss study_parm, ects_ss_owner.ects_cts_authuser users, ects_ss_owner.ects_cts_authsites_ss sites, ects_ss_owner.ects_cts_authuser_parms_ss user_parm, ects_ss_owner.ects_cts_person_authuser_ss person_authuser, ects_ss_owner.ects_cts_person_ss person, ects_ss_owner.ects_cts_subject_ss subject, ects_ss_owner.ects_cts_subject_parms_ss subj_gen, ects_ss_owner.ects_cts_research_project_ss res_proj WHERE     study.study_id = study_parm.study_id AND study_parm.parm_val_char = 'Open'  AND study.study_id = subject.study_id AND subject.subject_id = subj_gen.subject_id AND subj_gen.parm_type_code = '6' AND subject.study_id_numeric = users.projectid AND subject.siteid = users.siteid AND users.userid = user_parm.userid AND (    user_parm.parm_type_code = '56' AND user_parm.parm_val_num = 1) AND users.userid = person_authuser.userid AND person_authuser.person_id = person.person_id AND users.siteid = sites.siteid AND users.projectid = sites.projectid AND study.res_proj_id = res_proj.res_proj_id AND    res_proj.res_proj_code|| '-'|| study.facility_code || '-'|| study.study_code = :study_als_cd) mainQuery ORDER BY IVRS_STDY_SEQ_NBR_TXT, INVSTGTR_INV_TTL_TXT, INVSTGTR_INV_LST_NM_TXT, INVID_INVSTGTR_SITE_RFRNC_ID DESC, ROWNUM
com.lilly.esb.iep.alsc.ects.ects_ss_owner.ivrs_sbjct_data.header=ID,SDYID_STDY_ID_TXT,USDYID_UNQ_STDY_ID_TXT,IVRS_STDY_SEQ_NBR_TXT,INVSTGTR_INV_TTL_TXT,INVSTGTR_INV_LST_NM_TXT,INVSTGTR_INV_FRST_NM_TXT,INVID_INVSTGTR_SITE_RFRNC_ID,IVRS_SBJCT_SEQ_NBR_TXT,SUBJID_SBJCT_ID_NBR,SCH_CNTCT_NBR,UNSCHDLD_VIS_TXT,IVRS_DATA_DESC_TXT,IVRS_DATA_VAL_TXT
com.lilly.esb.iep.alsc.ects.ects_ss_owner.ivrs_sbjct_data.domain=IVRS_SBJCT_DATA

com.lilly.esb.iep.alsc.ects.ects_ss_owner.ivrs_site_enroll.query=SELECT ROWNUM ID, SDYID_STDY_ID_TXT, USDYID_UNQ_STDY_ID_TXT, IVRS_STDY_SEQ_NBR_TXT, SITCNTNM_SITE_ADRS_CNTRY_NM, INVSTGTR_INV_TTL_TXT, INVSTGTR_INV_LST_NM_TXT, INVSTGTR_INV_FRST_NM_TXT, INVID_INVSTGTR_SITE_RFRNC_ID, IVRS_TOT_ENTRD_SBJCTS, IVRS_TOT_ACTV_NR_SBJCTS, IVRS_TOT_DSCNTND_NR_SBJCTS, IVRS_TOT_RNDMZD_SBJCTS, IVRS_TOT_ACTV_RNDMZD_SBJCTS, IVRS_TOT_DSCNTND_RNDMZD_SBJCTS, IVRS_TOT_CMPLTD_SBJCTS FROM (SELECT stdy.study_code SDYID_STDY_ID_TXT, res_proj.res_proj_code||'-'||stdy.facility_code||'-'||stdy.study_code  USDYID_UNQ_STDY_ID_TXT, stdy.study_id IVRS_STDY_SEQ_NBR_TXT, substr(country_ref.country,0,99) SITCNTNM_SITE_ADRS_CNTRY_NM, substr(person.title,0,14) INVSTGTR_INV_TTL_TXT, substr(person.last_name,0,49) INVSTGTR_INV_LST_NM_TXT, substr(person.first_name,0,49) INVSTGTR_INV_FRST_NM_TXT, sites.siteid INVID_INVSTGTR_SITE_RFRNC_ID, SUM(DECODE(subj.subject_status_code,'1', 1,'2', 1,'3', 1,0)) IVRS_TOT_ENTRD_SBJCTS, SUM(DECODE(subj.subject_status_code,'1', DECODE(temp.subject_id,null, 1,0),0)) IVRS_TOT_ACTV_NR_SBJCTS, SUM(DECODE(subj.subject_status_code,'2', DECODE(temp.subject_id,null, 1,0),0)) IVRS_TOT_DSCNTND_NR_SBJCTS, SUM(DECODE(subj.subject_status_code,'1', DECODE(temp.subject_id,null, 0,1),'2', DECODE(temp.subject_id,null, 0,1),'3', DECODE(temp.subject_id,null, 0,1),0)) IVRS_TOT_RNDMZD_SBJCTS, SUM(DECODE(subj.subject_status_code,'1', DECODE(temp.subject_id,null, 0,1),0)) IVRS_TOT_ACTV_RNDMZD_SBJCTS, SUM(DECODE(subj.subject_status_code,'2', DECODE(temp.subject_id,null, 0,1),0)) IVRS_TOT_DSCNTND_RNDMZD_SBJCTS, SUM(DECODE(subj.subject_status_code,'3', 1,0)) IVRS_TOT_CMPLTD_SBJCTS FROM ects_ss_owner.ects_cts_study_ss stdy, ects_ss_owner.ects_cts_study_org_ss stdy_org, ects_ss_owner.ects_cts_organization_ss org, ects_ss_owner.ects_cts_study_parms_ss stdyparms, ects_ss_owner.ects_cts_subject_ss subj, (SELECT DISTINCT subject_id FROM ects_ss_owner.ects_cts_randomization_ss) temp, ects_ss_owner.ects_cts_authuser users, ects_ss_owner.ects_cts_authsites_parms_ss authsites_parms, ects_ss_owner.ects_cts_person_ss person, ects_ss_owner.ects_cts_person_authuser_ss person_authuser, ects_ss_owner.ects_cts_authuser_parms_ss user_parm, ects_ss_owner.ects_cts_authsites_ss sites, ects_ss_owner.ects_cts_organization_ss org_cntry, ects_ss_owner.ects_cts_country_code_ref_ss country_ref, ects_ss_owner.ects_cts_research_project_ss res_proj WHERE stdy.res_proj_id = res_proj.res_proj_id AND res_proj.res_proj_code|| '-'|| stdy.facility_code|| '-'|| stdy.study_code = :study_als_cd AND stdy.study_id = stdyparms.study_id AND (stdyparms.parm_val_char = 'Open') AND stdy.study_id = subj.study_id AND subj.subject_id = temp.subject_id(+) AND subj.siteid = sites.siteid AND subj.study_id_numeric = sites.projectid AND sites.siteid = users.siteid AND sites.projectid = users.projectid AND sites.projectid = authsites_parms.projectid AND sites.siteid = authsites_parms.siteid AND authsites_parms.parm_type_code = '354' AND authsites_parms.parm_val_char = org.org_id AND stdy_org.study_id = stdy.study_id AND stdy_org.siteid(+) = sites.siteid AND stdy_org.org_type_code = 4 AND stdy_org.org_id = org_cntry.org_id AND org_cntry.country_code = country_ref.country_code AND users.userid = user_parm.userid AND (user_parm.parm_type_code = '56' AND user_parm.parm_val_num = 1) AND users.userid = person_authuser.userid AND person_authuser.person_id = person.person_id GROUP BY stdy.study_code, stdy.study_id, res_proj.res_proj_code||'-'||stdy.facility_code||'-'||stdy.study_code, sites.investname, person.title, person.first_name, person.last_name, sites.siteid, country_ref.country ORDER BY SITCNTNM_SITE_ADRS_CNTRY_NM, INVID_INVSTGTR_SITE_RFRNC_ID)
com.lilly.esb.iep.alsc.ects.ects_ss_owner.ivrs_site_enroll.header=ID,SDYID_STDY_ID_TXT,USDYID_UNQ_STDY_ID_TXT,IVRS_STDY_SEQ_NBR_TXT,SITCNTNM_SITE_ADRS_CNTRY_NM,INVSTGTR_INV_TTL_TXT,INVSTGTR_INV_LST_NM_TXT,INVSTGTR_INV_FRST_NM_TXT,INVID_INVSTGTR_SITE_RFRNC_ID,IVRS_TOT_ENTRD_SBJCTS,IVRS_TOT_ACTV_NR_SBJCTS,IVRS_TOT_DSCNTND_NR_SBJCTS,IVRS_TOT_RNDMZD_SBJCTS,IVRS_TOT_ACTV_RNDMZD_SBJCTS,IVRS_TOT_DSCNTND_RNDMZD_SBJCTS,IVRS_TOT_CMPLTD_SBJCTS
com.lilly.esb.iep.alsc.ects.ects_ss_owner.ivrs_site_enroll.domain=IVRS_SITE_ENROLL

# Master Study

com.lilly.esb.iep.alsc.master.study.query.csv=select cs.clncl_study_id CLNCL_STUDY_ID,cs.study_als_cd STUDY_ALS_CD,cs.prjct_cd PRJCT_CD,cs.fclty_cd FCLTY_CD,substr(cs.study_als_cd,-4) STUDY_CD, cs.study_shrt_desc STUDY_SHRT_DESC,sp.study_phase_cd STUDY_PHASE_CD,to_char(sm1.study_mlstn_actl_dtm,'yyyy-mm-dd hh24:mi:ss') FPV,to_char(sm2.study_mlstn_actl_dtm,'yyyy-mm-dd hh24:mi:ss') LPV,scom.sbstnc_rfrnc_cd SBSTNC_RFRNC_CD,sc.cntry_cd CNTRY_CD,ss.study_site_ref_id STUDY_SITE_REF_ID,s.site_nm SITE_NM,ssl.tlphn_nmbr SITE_TLPHN_NMBR,ssl.fax_nmbr SITE_FAX_NMBR,ssl.eml_adrs SITE_EML_ADRS,sla.adrs_line_1 SITE_ADRS_LINE_1,sla.adrs_line_2 SITE_ADRS_LINE_2,sla.adrs_line_3 SITE_ADRS_LINE_3,sla.adrs_line_4 SITE_ADRS_LINE_4,sla.twn_cty SITE_TWN_CTY,sla.prvnce_cnty SITE_PRVNC_CNTY, sla.pst_zp_cd SITE_PST_ZP_CD, sla.cntry_cd SITE_CNTRY_CD,cr.country_shrt_desc SITE_COUNTRY_SHRT_DESC,p.prsnnl_nmbr PRSNNL_NMBR,p.invstgtr_flg INVSTGTR_FLG,p.rsrch_nurse_flg RSRCH_NURSE_FLG,p.lst_nm PRSNNL_LST_NM,p.frst_nm PRSNNL_FRST_NM,p.mdl_nm PRSNNL_MDL_NM,p.title PRSNNL_TITLE,p.tlphn_nmbr PRSNNL_TLPHN_NMBR,p.fax_nmbr PRSNNL_FAX_NMBR,p.eml_adrs PRSNNL_EML_ADRS,pa.adrs_line_1 PRSNNL_ADRS_LINE_1,pa.adrs_line_2 PRSNNL_ADRS_LINE_2,pa.adrs_line_3 PRSNNL_ADRS_LINE_3,pa.adrs_line_4 PRSNNL_ADRS_LINE_4,pa.twn_cty PRSNNL_TWN_CTY,pa.prvnc_cnty PRSNNL_PRVNC_CNTY,pa.pst_zp_cd PRSNNL_PST_ZP_CD,pa.cntry_cd PRSNNL_CNTRY_CD,cr1.country_shrt_desc PRSNNL_COUNTRY_SHRT_DESC from iip_mstr_ref_owner.clinical_study cs left outer join iip_mstr_ref_owner.study_phase_ref sp on cs.study_phase_iip_id = sp.study_phase_iip_id and sp.etl_prcs_flg <> 'D' left outer join iip_sdm_owner.clinical_study_study_design cssd on (cssd.clncl_study_id = cs.clncl_study_id and cssd.etl_prcs_flg <> 'D' and (cssd.lst_apprvd_vrsn_flg = 'Y' or cssd.lst_apprvd_vrsn_flg is null)) left outer join iip_sdm_owner.study_compound scom on cssd.study_dsgn_mstr_iip_id = scom.study_dsgn_mstr_iip_id and scom.etl_prcs_flg <> 'D' left outer join (select * from iip_analytical_owner.study_milestone where mlstn_cd = '3200') sm1 on sm1.clncl_study_id = cs.clncl_study_id and sm1.etl_prcs_flg <> 'D' left outer join (select * from iip_analytical_owner.study_milestone where mlstn_cd = '3700') sm2 on sm2.clncl_study_id = cs.clncl_study_id and sm2.etl_prcs_flg <> 'D' join iip_mstr_ref_owner.study_country sc on (sc.clncl_study_id = cs.clncl_study_id and sc.cntry_cd is not null and sc.etl_prcs_flg <> 'D') join iip_mstr_ref_owner.study_site ss on (ss.study_cntry_iip_id = sc.study_cntry_iip_id and ss.study_site_ref_id is not null and ss.etl_prcs_flg <> 'D') join iip_mstr_ref_owner.study_site_location ssl on(ss.study_site_iip_id = ssl.study_site_iip_id and ssl.study_site_lctn_cd = 1 and ssl.etl_prcs_flg <> 'D') left outer join iip_mstr_ref_owner.site s on ssl.site_cd = s.site_cd and s.etl_prcs_flg <> 'D' left outer join iip_mstr_ref_owner.site_location_address sla on (ssl.site_cd = sla.site_cd and ssl.lctn_cd = sla.lctn_cd and upper(sla.prmry_adrs_flg) = 'Y'and sla.etl_prcs_flg <> 'D') left outer join iip_mstr_ref_owner.country_ref cr on sla.cntry_cd = cr.country_cd and cr.etl_prcs_flg <> 'D' left outer join iip_mstr_ref_owner.personnel p on ss.prmry_invstgtr_id = p.prsnnl_nmbr and p.etl_prcs_flg <> 'D' left outer join iip_mstr_ref_owner.personnel_address pa on (p.prsnnl_nmbr = pa.prsnnl_nmbr and upper(pa.prmry_adrs_flg) = 'Y'and pa.etl_prcs_flg <> 'D') left outer join iip_mstr_ref_owner.country_ref cr1 on pa.cntry_cd = cr1.country_cd and cr1.etl_prcs_flg <> 'D' where cs.study_als_cd = :study_als_cd and cs.etl_prcs_flg <> 'D' order by cs.clncl_study_id,sc.cntry_cd,ss.study_site_ref_id,p.prsnnl_nmbr
com.lilly.esb.iep.alsc.master.study.query.header=CLNCL_STUDY_ID,STUDY_ALS_CD,PRJCT_CD,FCLTY_CD,STUDY_CD,STUDY_SHRT_DESC,STUDY_PHASE_CD,FPV,LPV,SBSTNC_RFRNC_CD,CNTRY_CD,STUDY_SITE_REF_ID,SITE_NM,SITE_TLPHN_NMBR,SITE_FAX_NMBR,SITE_EML_ADRS,SITE_ADRS_LINE_1,SITE_ADRS_LINE_2,SITE_ADRS_LINE_3,SITE_ADRS_LINE_4,SITE_TWN_CTY,SITE_PRVNC_CNTY,SITE_PST_ZP_CD,SITE_CNTRY_CD,SITE_COUNTRY_SHRT_DESC,PRSNNL_NMBR,INVSTGTR_FLG,RSRCH_NURSE_FLG,PRSNNL_LST_NM,PRSNNL_FRST_NM,PRSNNL_MDL_NM,PRSNNL_TITLE,PRSNNL_TLPHN_NMBR,PRSNNL_FAX_NMBR,PRSNNL_EML_ADRS,PRSNNL_ADRS_LINE_1,PRSNNL_ADRS_LINE_2,PRSNNL_ADRS_LINE_3,PRSNNL_ADRS_LINE_4,PRSNNL_TWN_CTY,PRSNNL_PRVNC_CNTY,PRSNNL_PST_ZP_CD,PRSNNL_CNTRY_CD,PRSNNL_COUNTRY_SHRT_DESC
com.lilly.esb.iep.alsc.master.study.query.domain=STUDY_MSTR

# Master Reference

com.lilly.esb.iep.alsc.master.reference.query=select cs.study_als_cd StudyID,cs.study_title StudyTitle,sp.study_phase_cd DevelopmentPhase,to_char(sm1.study_mlstn_actl_dtm,'yyyy-mm-dd') StudyStartDate, to_char(sm3.study_mlstn_actl_dtm,'yyyy-mm-dd') StudyEndDate,scom.sbstnc_rfrnc_cd DrugProgramCd,bt.blndng_typ_cd StudyDesignBlinding,tav.therapeutic_area_desc StudyTherapeuticArea, cs.mngng_mdcl_unt_desc SponsoringUnit,dt.dsgn_typ_shrt_desc StatisticalDesign,cs.latest_stndrd_mlstn_desc StudyStatusCurrent,case when sm3.study_mlstn_actl_dtm is not null then 'T' else 'F' end StudyClosedFlag from iip_mstr_ref_owner.clinical_study cs left outer join iip_mstr_ref_owner.study_phase_ref sp on cs.study_phase_iip_id = sp.study_phase_iip_id and sp.etl_prcs_flg <> 'D'left outer join iip_sdm_owner.clinical_study_study_design cssd on (cssd.clncl_study_id = cs.clncl_study_id and cssd.etl_prcs_flg <> 'D' and (cssd.lst_apprvd_vrsn_flg = 'Y' or cssd.lst_apprvd_vrsn_flg is null)) left outer join iip_mstr_ref_owner.blinding_type_ref bt on bt.blndng_typ_iip_id = cssd.blinding_type_iip_id and bt.etl_prcs_flg <> 'D' left outer join iip_mstr_ref_owner.design_type_ref dt on dt.dsgn_typ_iip_id = cssd.dsgn_typ_iip_id and dt.etl_prcs_flg <> 'D' left outer join iip_sdm_owner.study_compound scom on cssd.study_dsgn_mstr_iip_id = scom.study_dsgn_mstr_iip_id and scom.etl_prcs_flg <> 'D' left outer join iep_owner.study_therapeutic_area_vw tav on tav.clncl_study_id = cs.clncl_study_id left outer join (select * from iip_analytical_owner.study_milestone where mlstn_cd = '3200') sm1 on sm1.clncl_study_id = cs.clncl_study_id and sm1.etl_prcs_flg <> 'D' left outer join (select * from iip_analytical_owner.study_milestone where mlstn_cd = '4900') sm3 on sm3.clncl_study_id = cs.clncl_study_id and sm3.etl_prcs_flg <> 'D' where cs.study_als_cd = :study_als_cd and cs.etl_prcs_flg <> 'D'
# Schema file locations for the validation of XML messages
com.lilly.esb.iep.alsc.validate.schema.partnerResponse=schema/PartnerResponse.xsd
com.lilly.esb.iep.alsc.validate.schema.alscMasterRefData=schema/MasterDataALSC.xsd

# SharePoint

# Human usable: http://lillynet.global.lilly.com/sites/SolutonServicesECIT/SP_Services/Lists/Dev_ALSCStudies/AllItems.aspx
# Without SOAG: http://lillynet.global.lilly.com/sites/SolutonServicesECIT/SP_Services/_vti_bin/listdata.svc/Dev_ALSCStudies
com.lilly.esb.iep.alsc.ects.studylist.query=$expand=StudyAlias&$select=ObjectTypeValue,StudyAlias&$filter=ObjectTypeValue eq 'ects' and (ActiveFlag eq true)
com.lilly.esb.iep.alsc.study.studylist.query=$expand=StudyAlias&$select=ObjectTypeValue,StudyAlias&$filter=ObjectTypeValue eq 'study' and (ActiveFlag eq true)
com.lilly.esb.iep.alsc.lss.studylist.query=$expand=StudyAlias&$select=ObjectTypeValue,StudyAlias&$filter=ObjectTypeValue eq 'lss' and (ActiveFlag eq true)
com.lilly.esb.iep.alsc.reference.studylist.query=$expand=StudyAlias&$select=ObjectTypeValue,StudyAlias,DefaultTherapeuticArea&$filter=ObjectTypeValue eq 'reference' and (ActiveFlag eq true)
com.lilly.esb.iep.alsc.studylist.site=soag-z1-d.am.lilly.com:8443/sites/SolutonServicesECIT/SP_Services/_vti_bin/listdata.svc/Dev_ALSCStudies

com.lilly.esb.iep.alsc.soag.username=IEP_ESB_SYSTEM_DEV
com.lilly.esb.iep.alsc.soag.password=ENC(nOkhuu0hentRp9cUrkILV4DYyI9zpJzm)

# FES Endpoints
com.lilly.esb.iep.alsc.fes.queue=IEP.FES.FTE.FILE.NOTIF

# LSS Endpoints
com.lilly.esb.iep.alsc.lss.scheduler.queue=IEP.CRON.JOB.ALSC.LSS
#com.lilly.esb.iep.alsc.lss.fes.staging=/fusedata/iep/fes/Staging/LSS
com.lilly.esb.iep.alsc.lss.fes.staging=//mango/IEP_1/fes_dev/Staging/LSS
com.lilly.esb.iep.alsc.lss.fes.fullpath=${com.lilly.esb.iep.alsc.lss.fes.staging}/LSS.<study_id>.<domain>.<timestamp>.csv

# eCTS Endpoints
com.lilly.esb.iep.alsc.ects.scheduler.queue=IEP.CRON.JOB.ALSC.ECTS
#com.lilly.esb.iep.alsc.ects.secure.fes.staging=/fusedata/iep/fes/Staging/eCTS_Secure
com.lilly.esb.iep.alsc.ects.secure.fes.staging=//mango/IEP_1/fes_dev/Staging/eCTS_Secure
com.lilly.esb.iep.alsc.ects.secure.fes.fullpath=${com.lilly.esb.iep.alsc.ects.secure.fes.staging}/ECTSSEC.<study_id>.<domain>.<timestamp>.csv
#com.lilly.esb.iep.alsc.ects.general.fes.staging=/fusedata/iep/fes/Staging/eCTS_General
com.lilly.esb.iep.alsc.ects.general.fes.staging=//mango/IEP_1/fes_dev/Staging/eCTS_General
com.lilly.esb.iep.alsc.ects.general.fes.fullpath=${com.lilly.esb.iep.alsc.ects.general.fes.staging}/ECTSGEN.<study_id>.<domain>.<timestamp>.csv

# Study Endpoints
com.lilly.esb.iep.alsc.study.scheduler.queue=IEP.CRON.JOB.ALSC.MASTER
#com.lilly.esb.iep.alsc.study.fes.staging=/fusedata/iep/fes_dev/Staging/Master
com.lilly.esb.iep.alsc.study.fes.staging=//mango/IEP_1/fes_dev/Staging/Master
com.lilly.esb.iep.alsc.study.fes.fullpath=${com.lilly.esb.iep.alsc.study.fes.staging}/STUDY.<study_id>.<domain>.<timestamp>.csv

# Reference Endpoints
com.lilly.esb.iep.alsc.reference.scheduler.queue=IEP.CRON.JOB.ALSC.REF
# SOAG proxy endpoint
com.lilly.esb.iep.alsc.reference.soag.proxy.endpoint.uri=soag-z1-d.am.lilly.com:8443/IEP/proxy_ALSC

# Accenture endpoint
com.lilly.esb.iep.alsc.reference.endpoint.uri=https://alscsoa-dev.am.lilly.com/ALSC/IXH/StudyMetadataService
# ServiceV simulator endpoint
#com.lilly.esb.iep.alsc.reference.endpoint.uri=http://ix1iepvsrv1.am.lilly.com:8088/IEP/rest/ALSC/StudyReference/Simulator

com.lilly.esb.iep.alsc.endpoint.queue.tracker=IEP.TRACKER

# FRM
com.lilly.esb.iep.alsc.final.response.monitor.commandUrl=https://soag-z1-d.am.lilly.com:8443/IEP/rest/frm/v1/command
com.lilly.esb.iep.alsc.final.response.monitor.responseUrl=https://soag-z1-d.am.lilly.com:8443/IEP/rest/frm/v1/response

com.lilly.esb.iep.alsc.frm.timeout.min=5
com.lilly.esb.iep.alsc.frm.sourceName=IEP_ALSC_BUNDLE
com.lilly.esb.iep.alsc.frm.targetName=ALSC
com.lilly.esb.iep.alsc.frm.notes=